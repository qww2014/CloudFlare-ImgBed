"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[988],{732:function(e,t,s){e.exports=s.p+"img/background.ea1b7ee7.jpg"},4988:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var a=s(9825),i=s(9738),n=(s(3360),s(5700),s(1829)),r=(s(2373),s(7117)),o=s(5967),l=s(114),c=s(552);const g=e=>((0,o.Qi)("data-v-7ecd2a2b"),e=e(),(0,o.jt)(),e),d={class:"login"},u=g((()=>(0,o.Lk)("img",{id:"bg1",class:"background-image1",alt:"Background Image"},null,-1))),h=g((()=>(0,o.Lk)("img",{id:"bg2",class:"background-image2",alt:"Background Image"},null,-1))),k={class:"login-container"},p={class:"login-title"},m={class:"input-container"},y=g((()=>(0,o.Lk)("a",{class:"input-name"},"密码",-1))),b=(0,o.eW)("登录");function f(e,t,s,g,f,v){const C=r.A,w=n.WK,x=i.S2,I=a.A;return(0,o.uX)(),(0,o.CE)("div",d,[u,h,(0,o.bF)(C,{class:"toggle-dark"}),(0,o.Lk)("div",k,[(0,o.Lk)("h1",p,"登录到 "+(0,l.v_)(v.ownerName)+" 图床",1),(0,o.Lk)("div",m,[y,(0,o.bF)(w,{class:"password-input",modelValue:f.password,"onUpdate:modelValue":t[0]||(t[0]=e=>f.password=e),placeholder:"请输入认证码",type:"password","show-password":"",onKeyup:(0,c.jR)(v.login,["enter","native"])},null,8,["modelValue","onKeyup"])]),(0,o.bF)(x,{class:"submit",type:"primary",onClick:v.login},{default:(0,o.k6)((()=>[b])),_:1},8,["onClick"])]),(0,o.bF)(I,{class:"footer"})])}s(9138);var v=s(3038),C=s.n(v),w=s(3350),x=s(9297),I={data(){return{password:"",writtenPass:"",bingWallPaperIndex:0,customWallPaperIndex:0,useDefaultWallPaper:!1}},watch:{isDark:{handler(e){if(this.useDefaultWallPaper){const t=document.getElementById("bg1");t.src=s(e?732:7835),t.onload=()=>{t.style.opacity=this.bkOpacity}}}}},computed:{...(0,x.L8)(["userConfig","bingWallPapers"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1},ownerName(){return this.userConfig?.ownerName||"Sanyue"},isDark(){return this.$store.getters.useDarkMode}},components:{Footer:a.A,ToggleDark:r.A},mounted(){const e=document.getElementById("bg1"),t=document.getElementById("bg2");"bing"===this.userConfig?.loginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{e.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,e.onload=()=>{e.style.opacity=this.bkOpacity,document.querySelector(".login").style.background="transparent"},setInterval((()=>{let s=0!=e.style.opacity?e:t,a=0!=e.style.opacity?t:e;s.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,a.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,a.onload=()=>{a.style.opacity=this.bkOpacity}}),this.bkInterval)})):this.userConfig?.loginBkImg instanceof Array&&this.userConfig?.loginBkImg?.length>1?(e.src=this.userConfig.loginBkImg[this.customWallPaperIndex],e.onload=()=>{e.style.opacity=this.bkOpacity,document.querySelector(".login").style.background="transparent"},setInterval((()=>{let s=0!=e.style.opacity?e:t,a=0!=e.style.opacity?t:e;s.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.userConfig.loginBkImg.length,a.src=this.userConfig.loginBkImg[this.customWallPaperIndex],a.onload=()=>{a.style.opacity=this.bkOpacity}}),this.bkInterval)):this.userConfig?.loginBkImg instanceof Array&&1==this.userConfig?.loginBkImg?.length&&(e.src=this.userConfig.loginBkImg[0],e.onload=()=>{e.style.opacity=this.bkOpacity,document.querySelector(".login").style.background="transparent"})},methods:{login(){""===this.password?this.writtenPass="unset":this.writtenPass=this.password,w.A.post("/api/login",{authCode:this.password}).then((e=>{200===e.status?(C().set("authCode",this.writtenPass,"14d"),this.$router.push("/"),this.$message.success("登录成功")):this.$message.error("登录失败，请检查密码是否正确")})).catch((e=>{this.$message.error("登录失败，请检查密码是否正确")}))}}},D=s(1858);const P=(0,D.A)(I,[["render",f],["__scopeId","data-v-7ecd2a2b"]]);var _=P},7117:function(e,t,s){s.d(t,{A:function(){return y}});var a=s(5967),i=s(114);const n=e=>((0,a.Qi)("data-v-019ed83e"),e=e(),(0,a.jt)(),e),r={id:"themeMask"},o=n((()=>(0,a.Lk)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"},null,-1))),l=["cx","cy","r"],c=["r"],g=["opacity"],d=(0,a.Fv)('<line x1="12" y1="1" x2="12" y2="3" data-v-019ed83e></line><line x1="12" y1="21" x2="12" y2="23" data-v-019ed83e></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-019ed83e></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-019ed83e></line><line x1="1" y1="12" x2="3" y2="12" data-v-019ed83e></line><line x1="21" y1="12" x2="23" y2="12" data-v-019ed83e></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-019ed83e></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-019ed83e></line>',8),u=[d];function h(e,t,s,n,d,h){return(0,a.uX)(),(0,a.CE)("div",{id:"themeToggle",onClick:t[0]||(t[0]=(...e)=>h.handleToggleClick&&h.handleToggleClick(...e))},[((0,a.uX)(),(0,a.CE)("svg",{class:(0,i.C4)(["theme_toggle_svg",{dark:d.isDark}]),width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"currentColor"},[(0,a.Lk)("mask",r,[o,(0,a.Lk)("circle",{class:"theme_toggle_circle1",fill:"black",cx:d.isDark?"50%":"100%",cy:d.isDark?"23%":"0%",r:d.isDark?"9":"5"},null,8,l)]),(0,a.Lk)("circle",{class:"theme_toggle_circle2",cx:"12",cy:"12",r:d.isDark?"9":"5",mask:"url(#themeMask)"},null,8,c),(0,a.Lk)("g",{class:"theme_toggle_g",stroke:"currentColor",opacity:d.isDark?0:1},u,8,g)],2))])}var k={name:"ToggleDark",data(){return{isDark:this.$store.getters.useDarkMode}},methods:{handleToggleClick(){this.isDark=!this.isDark,this.$store.commit("setUseDarkMode",this.isDark),this.$store.commit("setCusDarkMode",!0)}}},p=s(1858);const m=(0,p.A)(k,[["render",h],["__scopeId","data-v-019ed83e"]]);var y=m},7835:function(e,t,s){e.exports=s.p+"img/background-light.f17603bc.jpg"},9825:function(e,t,s){s.d(t,{A:function(){return k}});var a=s(5967),i=s(114);const n=e=>((0,a.Qi)("data-v-22b68e08"),e=e(),(0,a.jt)(),e),r={key:0,class:"page-footer"},o=n((()=>(0,a.Lk)("a",{class:"footer-name",href:"https://www.missz.me",target:"_blank"},"laoqiao",-1))),l=["href"];function c(e,t,s,n,c,g){const d=(0,a.g2)("font-awesome-icon");return g.disableFooter?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("p",null,[(0,a.eW)(" © 2024-"+(0,i.v_)(g.thisYear)+" ",1),o,(0,a.Lk)("a",{href:g.footerLink,target:"_blank"},[(0,a.bF)(d,{icon:"paper-plane",class:"footer-link-icon"})],8,l)])]))}var g=s(9297),d={name:"Footer",computed:{...(0,g.L8)(["userConfig"]),footerLink(){return this.userConfig?.footerLink||"https://www.missz.me"},thisYear(){return(new Date).getFullYear()},disableFooter(){return this.userConfig?.disableFooter||!1}}},u=s(1858);const h=(0,u.A)(d,[["render",c],["__scopeId","data-v-22b68e08"]]);var k=h}}]);
//# sourceMappingURL=988.8be39841.js.map